strict digraph {
	node [shape=oval, style=filled];
	Сколопендра;
	
	node [style=solid, shape=box, color=blue];
	Скорость; Жизнь; Магия;

	node [style=filled, color=black, fillcolor=green];
	Меч; Кинжал; Лук; Арбалет; Первичная; Вода; Земля; Воздух;
	Огонь; Свет; Тьма; Руны; Клич; Природа;

	node [fillcolor=yellow];
	Перевязка; Блок; Порабощение;
	Воодушевление; Прикрытие; Удар_Щитом; Сопереживание;
	Оглушение; Двуправорукость; Устрашение; Ярость;
	Уклон1; Скрытность; Отравление;
	Метка; Рывок; Отравленные_Стрелы; Рыщущая_Стрела;
	Уклон2;	Ловушка; Ядовитая_Ловушка; Обезвредить_Ловушку;
	Прицельный_Выстрел; Оглушающий_Выстрел; Пронзающая_Стрела;
	Основы_Чародейства; Развитое_Чародейство;
	Зачарованные_Стрелы; Град_Стрел; Выстрел_В_Упор; Заклятый_Враг;
	Искустное_Чародейство; Медитация; Поглощение_Манны; Оберег_Тайн;

	node [label="+1", fillcolor=orange, shape=circle];

	Сколопендра -> Скорость;
	Сколопендра -> Жизнь;
	Сколопендра -> Магия;

	Жизнь -> Меч;
	Жизнь -> Кинжал;

	Скорость -> Лук;
	Скорость -> Арбалет;
	Скорость -> Кинжал;

	Магия -> Первичная;
	Магия -> Вода;
	Магия -> Земля;
	Магия -> Воздух;
	Магия -> Огонь;
	Магия -> Свет;
	Магия -> Тьма;
	Магия -> Руны;
	Магия -> Клич;
	Магия -> Природа;

	style=filled;
	subgraph cluster_warior {
		label="Воин";
		Меч -> w1 -> w2 -> w3;
		Меч -> Перевязка;
		w1 -> Блок [label="+2"];
		w2 -> Порабощение;
	}
	subgraph cluster_armorcladwarior {
		label="Латник";
		w3 -> c1 -> c2 -> c3 -> c4 -> c4;
		c1 -> Воодушевление;
		c2 -> Прикрытие;
		c3 -> Удар_Щитом;
		c4 -> Сопереживание;
	}
	subgraph cluster_berserk {
		label="Берсерк";
		w3 -> b1 -> b2 -> b3 -> b4 -> b4;
		b1 -> Оглушение;
		b2 -> Двуправорукость;
		b3 -> Устрашение;
		b4 -> Ярость [label="При ½ жизней урон отстрачивается на 1 ход"];
	}
	subgraph cluster_vagrant {
		label="Бродяга";
		Кинжал -> v1 -> v2 -> v3;
		v1 -> Уклон1 [label="+1"];
		v1 -> Скрытность;
		v3 -> Отравление;
	}
	Отравление -> Ядовитая_Ловушка [style=dashed];
	subgraph cluster_archer {
		label="Лучник";
		Лук -> a1 -> a2 -> a3;
		a2 -> Метка;
		a3 -> Рывок;
		Лук -> Отравленные_Стрелы;
		Лук -> Рыщущая_Стрела;
	}
	Отравление -> Отравленные_Стрелы [style=dashed];
	subgraph cluster_pathfinder {
		label="Следопыт";
		v3 -> p1;
		a3 -> p1 -> p2 -> p3 -> p4 -> p4;
		p1 [label="+1, +1"];
		p1 -> Уклон2;
		p1 -> Ловушка;
		Ловушка -> Ядовитая_Ловушка;
		Ловушка -> Обезвредить_Ловушку;
	}
	subgraph cluster_sniper {
		label="Снайпер";
		a3 -> s1 -> s2 -> s3 -> s4 -> s5 -> s5;
		s1 [label="+2"];
		s5 [label="+2"];
		s1 -> Арбалет;
		Арбалет -> Прицельный_Выстрел -> Оглушающий_Выстрел;
		s2 -> Оглушающий_Выстрел -> Пронзающая_Стрела;
		s3 -> Пронзающая_Стрела;
	}
	subgraph cluster_mage {
		label="Маг";
		Первичная -> m1 -> m2 -> m3;
		m3 -> Основы_Чародейства [label="+2М"];
		Основы_Чародейства -> Развитое_Чародейство [label="+5M"];
	}
	Основы_Чародейства -> Рыщущая_Стрела [style=dashed];
	subgraph cluster_ranger {
		label="Рэйнджер";
		m3 -> r1;
		a3 -> r1 -> r2 -> r3 -> r4 -> r4;
		Зачарованные_Стрелы;
		r2 -> Град_Стрел;
		r3 -> Выстрел_В_Упор;
		r4 -> Заклятый_Враг;
	}
	Рыщущая_Стрела -> Зачарованные_Стрелы [style=dashed];
	subgraph cluster_flamen {
		label="Жрец";
		Свет -> f1 -> f2 -> f3;
	}
	subgraph cluster_witcher {
		label="Колдун";
		m3 -> k1;
		f3 -> k1;
		k2 -> k3 -> k4 -> k4;
		k2 [label="+2"];
		k3 [label="+2"];
		k1 -> Искустное_Чародейство -> k2;
		k1 -> Медитация; // Есть магия с тем же названием
		Медитация -> Поглощение_Манны;
		k2 -> Поглощение_Манны;
		k2 -> Оберег_Тайн [label="+1 к защите от магии"];
		
	}
	Развитое_Чародейство -> Искустное_Чародейство [style=dashed, label="+10М"];
	subgraph cluster_dispel {
		label="Чернокнижник";
		Тьма;
	}
	subgraph cluster_assasin {
		label="Ассасин";
		v3 -> s1;
		w3 -> s1
	}
	subgraph cluster_paladin {
		label="Паладин";
		w3 -> l1;
		f3 -> l1;
	}
	subgraph cluster_warmage {
		label="Боевой Маг";
		w3 -> g1;
		m3 -> g1;
	}
	subgraph cluster_arcflamen {
		label="Архиерей";
		f3 -> F3;
	}
	subgraph cluster_arcmage {
		label="Адепт Магии";
		m3 -> M3;
	}
	subgraph cluster_druid {
		label="Друид";
		Природа;
	}
	subgraph cluster_shaman {
		label="Шаман";
		Клич;
	}
	subgraph cluster_firemage {
		label="Маг";
		Огонь;
	}
	subgraph cluster_watermage {
		label="Маг";
		Вода;
	}
	subgraph cluster_earthmage {
		label="Маг";
		Земля;
	}
	subgraph cluster_airmage {
		label="Маг";
		Воздух;
	}
	subgraph cluster_runicmaster {
		label="Мастер Рун";
		Руны;
	}
}
